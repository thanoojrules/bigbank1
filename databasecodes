CREATE DATABASE bigbankdb;
use bigbankdb;


CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    balance NUMERIC(10, 2) NOT NULL DEFAULT 0.00,
    savings NUMERIC(10, 2) NOT NULL DEFAULT 0.00,
    email VARCHAR(255) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL
);

CREATE TABLE transactions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    amount DECIMAL(10,2) NOT NULL,
    recipient_id INT NOT NULL,
    fraud_flag BOOLEAN NOT NULL DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    transaction_type VARCHAR(50) NOT NULL,
    status VARCHAR(50) NOT NULL
);

CREATE TABLE notifications (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    message TEXT NOT NULL
);

CREATE TABLE notifications (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    message TEXT NOT NULL
);

CREATE TABLE customer_details (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    credit_card_limit DECIMAL(10,2) NOT NULL,
    debit_card_balance DECIMAL(10,2) NOT NULL,
    scene_points INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    due_date DATE NOT NULL
);
ALTER TABLE users ADD COLUMN role VARCHAR(10) DEFAULT 'user';


DESCRIBE users;

ALTER TABLE users ADD COLUMN name VARCHAR(100) NOT NULL AFTER id;

SELECT id, name, email, role FROM users WHERE email = 'newadmin@example.com';

select * from users;
SELECT id, name, email, password FROM users WHERE email = 'yoyoy@gmail.com';